sudo: false
dist: trusty
language: python
python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"
  - "nightly"
  - "pypy-5.4.1"
  - "pypy-5.6.0"
  - "pypy-5.7.1"
  - "pypy2.7-5.8.0"
  - "pypy3.5-5.8.0"
matrix:
  include:
  - python: 3.7
    dist: xenial
    sudo: true
before_install:
  - pip install --upgrade pip setuptools
install:
  - pip install -r requirements.txt
  - pip install coveralls
script: coverage run --source=docker setup.py test
after_success: coveralls
deploy:
  provider: pypi
  user: joamag
  password:
    secure: NqNtksEnDGZa61YuhNg1MPVHh3mjdGX9q55l8V8cZfNR2wAnksf29O2kaNfUsspVBpVLu4RvJzJSe5llV56jvjHchZj83TVElotyl2rMOAPL09zrq+AbM6uV4kPquIlNWpnZ4AaSB52aC8MuD9TuyR81HOMpTkvlLZB/X9EtAmcZyX1mbf6c2+yize3dirE8vLI87tnUjYjyiF83PpEWTL5uPivUiEIM3GiLwAK5HYWeA5KLWgCD0tcZEL50j+Kfz1Q0nhHoYAfaaobnt7Bw3grNTn7SrXuyhDA+ay3zcBk+KLMXh+aghA9vvNjWyWkSll94SJ7K4GidIjQDWOJC53AsISbHBilYdRCgxR6G8njSu+d03sMOMk75p53ErcLFLanhk+0kqXQN7dibErTuxDyme2vLyjl+C6q7w628q3u9qaoSJwQAlqv/oHKupVqbwRiwoxTF2zyInxbQS0K+6bOkbGLFeDyzLheoyJgFJ81kNEdAaZ12IoPDzRSUwIS4BUADz4cC9u/i6ukZJ6nXnmVm4qTtv3qzhVInI3OOW7bnTgfkW75ysAG22b2Pt0S0o6iFL252Cu+DmsCWQf//0lvqsSjpec3GV0NkjFwfVGwQ//Xb04K71IyK8w3xk6nQlLtfjQGPRnzrysFOD187IVarjiTMANt+XrwlXWBh8ak=
  distributions: sdist bdist_wheel
  on:
    tags: true
    python: "2.7"
